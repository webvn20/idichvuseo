!function(t,e,n,r){var o=null;XenForo.LDClick=function(t){this.__construct(t)},XenForo.LDClick.prototype={__construct:function(e){e.one("click",t.context(this,"clickTrigger")),this.triggered=!1,this.$element=e,this.$ldId=e.attr("data-ld")},clickTrigger:function(){this.$ldId&&!this.triggered&&(this.triggered=!0,XenForo.ajax("index.php?ldclick",{ldid:this.$ldId},function(t){return XenForo.hasResponseError(t)?!1:void 0},{cache:!1}))}},XenForo.LDPageText=function(t){this.__construct(t)},XenForo.LDPageText.prototype={__construct:function(e){this.$input=e.keyup(t.context(this,"update")).keydown(t.context(this,"preventNewline")),this.$counter=t(this.$input.data("statuseditorcounter")),this.$counter.length||(this.$counter=t("<span />").insertAfter(this.$input)),this.$counter.addClass("statusEditorCounter").text("0"),"undefined"==typeof maxChars?this.charLimit=140:this.charLimit=maxChars,this.update()},update:function(t){var e=this.$input.val();this.$input.attr("placeholder")&&this.$input.attr("placeholder")==e?this.setCounterValue(this.charLimit,e.length):this.setCounterValue(this.charLimit-e.length,e.length)},setCounterValue:function(t,e){0>t?(this.$counter.addClass("error"),this.$counter.removeClass("warning")):t<=this.charLimit-130?(this.$counter.removeClass("error"),this.$counter.addClass("warning")):(this.$counter.removeClass("error"),this.$counter.removeClass("warning")),this.$counter.text(t),this.charCount=e||this.$input.val().length},preventNewline:function(e){return 13==e.which?(e.preventDefault(),t(this.$input.get(0).form).submit(),!1):void 0}},XenForo.register("input, textarea",function(e){var n=t(this);n.is("textarea.LDPageText")&&XenForo.create("XenForo.LDPageText",this)}),XenForo.LDRating=function(e){var n=null,r=null,o=e.find(".Hint").each(function(){var e=t(this);e.data("text",e.text())}),i=e.find(".RatingValue .Number"),a=e.find("button").each(function(){var e=t(this);e.data("hint",e.attr("title")).removeAttr("title")}),s=function(e){a.each(function(n){t(this).toggleClass("Full",e>=n+1).toggleClass("Half",e>=n+.5&&n+1>e)})},l=function(){s(i.text()),o.text(o.data("text"))};a.bind({mouseenter:function(e){e.preventDefault(),s(t(this).val()),o.text(t(this).data("hint"))},click:function(a){return a.preventDefault(),r?void r.load():void(n=XenForo.ajax(e.data("rateurl"),{rating:t(this).val(),_xfToken:XenForo._csrfToken},function(t,e){XenForo.hasResponseError(t)||(t._redirectMessage&&XenForo.alert(t._redirectMessage,"",1e3),t.newRating&&i.text(t.newRating),t.hintText&&o.data("text",t.hintText),t.templateHtml&&new XenForo.ExtLoader(t,function(){r=XenForo.createOverlay(null,t.templateHtml,{title:t.h1||t.title}).load(),r.getOverlay().find(".OverlayCloser").click(function(){r=null})})),l(),n=null}))}}),e.mouseleave(function(t){null===n&&l()})},XenForo.LDBookmarkIt=function(t){t.click(function(e){e.preventDefault(),t.get(0).blur(),XenForo.ajax(t.data("link"),{_xfConfirm:1},function(e,n){return XenForo.hasResponseError(e)?!1:void t.xfFadeOut(XenForo.speed.fast,function(){t.attr("href",e.linkUrl).html(e.linkPhrase).xfFadeIn(XenForo.speed.fast)})})})},XenForo.SetMasonary=function(){if("undefined"==typeof e)var e=10;var n=t(".ldGridcontainer").imagesLoaded(function(){n.masonry({columnWidth:10,itemSelector:".linkGridItem",isFitWidth:!1})})},XenForo.ReOrderMasonary=function(t){t.click(function(t){t.preventDefault(),setTimeout(function(){o.masonry()},400)})},XenForo.upgradeSelect=function(e){function n(n){var r,o=e.val();r=e,e.find("option, optgroup").not("[value=0]").empty().remove(),t.each(n,function(e,n){t.each(n,function(e,n){t("<option />").attr("value",n.upgrade_id).text(n.title+" "+n.costPhrase).appendTo(r)})}),t("#upgradeField option").length>0?t("#upgradeField").show():t("#upgradeField").hide(),e.val(o).trigger("change")}var r=t(e.data("categorycontrol")),o=e.data("upgradeurl");r.change(function(t){var e=r.val(),i=null;o&&setTimeout(function(){i&&i.abort(),i=XenForo.ajax(o,{node_id:e},function(t,e){return i=null,XenForo.hasResponseError(t)?!1:void(t.upgrades&&n(t.upgrades))})},0)})},XenForo.createThread=function(e){var n=t(e.data("threadcreate"));n.change(function(e){var r=n.find(":selected").attr("data-nodeid");r>0?t("#threadCreateField").show():t("#threadCreateField").hide()})},XenForo.register(".ldGridcontainer","XenForo.SetMasonary"),XenForo.register(".ldGridcontainer .LikeLink","XenForo.ReOrderMasonary"),XenForo.register(".ldclick","XenForo.LDClick"),XenForo.register("div.LDRating","XenForo.LDRating"),XenForo.register("a.ldBookmarkIt","XenForo.LDBookmarkIt"),XenForo.register("select.upgradeSelect","XenForo.upgradeSelect"),XenForo.register("#threadCreateField","XenForo.createThread")}(jQuery,this,document),jQuery(document).ready(function(){jQuery(".subItem .expand").click(function(){id=jQuery(this).attr("attr"),jQuery(".subCatItems-"+id).slideToggle("fast"),jQuery(this).toggleClass("collapse"),$(".ldSubCatId-"+id).find(".subCatItems").slideToggle("fast").toggleClass("collapse")});var t=window.location.hash.substring(1);void 0!==t&&"ldId"==t.substring(0,4)&&$("#"+t).addClass("ldAnimated fadeIn"),$("#ldLinkSend").on("submit",function(){$(this).find(":submit").prop("disabled",!0)}),$("div .ldCatContent").length&&($("div .ldCatContent").ldCatContent(),$(window).resize(function(){$("div .ldCatContent").ldCatContent()}))}),function(t){t.fn.ldCatContent=function(){var e=0;t(this).each(function(){t(this).height()>e&&(e=t(this).height())}),t(this).height(e)}}(jQuery);